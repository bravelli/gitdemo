# JS 语法 Syntax

## 1.语句与表达式

语句（statement）是为了执行一些任务的操作，比如赋值语句。

```
var a = 1+3 ;
```

表达式（expression）指为了得到返回值的计算式。一般会对应一个值。add（1，2）表达式的值为函数的返回值。console.log 是一个表达式，它的值就是函数本身。语句和表达式的区别在于，前者主要为了进行某种操作，一般情况下不需要返回值；后者则是为了得到返回值，一定会返回一个值。凡是 JavaScript 语言中预期为值的地方，都可以使用表达式。

```
1+3 //是一个表达式，返回值是4
console.log（3）//返回值是 undefined
```

空格和回车没有实际意义，只要不影响断句，可以随便的去增删。只有一个例外，`returen` 后面不要加回车。因为 JS 会默认在 return 后面帮你加一个 undefined。

```
function f(){
    return
    3
}
< undefined
```

## 2.变量

变量就是给“值”起一个名字，也是“值”的一个容器。变量是区分大小写的。`A`和`a`是不同的两个变量。
标识符（identifier）指用来识别各种值的名称。最常见的标识符就是变量。
标识符的命名规则如下：

- 第一个字符是任意 Unicode 字符。包括字母，中文，\$，\_等特殊字符。
- 第二个字符除了上述字符外可以是数字。
- JS 的一些保留字是不能用作标识符的。
  下面这些都是不合法的标识符

```
1a  // 第一个字符不能是数字
***  // 标识符不能包含星号
a+b  // 标识符不能包含加号等运算符号
-d  // 标识符不能包含减号或连词线
break //JS的保留字
```

## 3.注释

注释只在重要的位置，容易出错的位置标注。不要把写满篇的注释，尤其是不要把代码翻译成中文。好的注释是说明为什么这么写，烂的注释是告诉你我写了什么。
单行注释`//`
多行注释`/* 注释内容*/`

## IF 语句

### 6.1 if 结构

if 结构先判断一个表达式的布尔值，然后根据布尔值的真伪，执行不同的语句。如果是 ture 执行语句 1，false 执行语句 2。

```
if (表达式){
    语句1； //如果省略了if的花括号，那if后只会关联第一个语句
}else{
    语句2；
}
```

示例：

```
a = 1
if(1===2)
    console.log(1),console.log(2)
< undefined // 逗号表示这个语句还没完，分号表示这个语句完了
```

- 为了避免有歧义和问题。不要省略`{}`,

### 6.2 switch 语句

```
var x = 1;
switch (x) {
  case 1:
    console.log('x 等于1');
    break;
  case 2:
  case 3:
    console.log('x 等于2或3');
  default:
    console.log('x 等于其他值');
}
```

需要注意的是：

1. switch 语句后面的表达式，与 case 语句后面的表示式比较运行结果时，采用的是严格相等运算符（===），而不是相等运算符（==），这意味着比较时不会发生类型转换。
2. 如果是连续的 case，那么这两个 case 是公用到一个执行结果上。x 不管是 2 还是 3，都会打印`x等于2或3`
3. 如果在语句后不添加 break，则无法跳出循环，比如上述执行完 case3 后，会继续执行 default。

## 额外知识

与`&`操作，A&&B，如果 A 为真就执行 B，返回值都是 B。如果 A 为假，就不执行 B，直接返回 A。

```
console && console.log && console.log('h1')
< hi
```

为什么有上述语句，因为 IE 不支持 console，第一步就可以判断出来。
或`|`操作，A||B，如果 A 为假就执行 B，返回值是 B。如果 A 为真，就不执行 B，直接返回 A。

```
x = x | 100
```

相当于

```
if (a) {
    a = a;
}else {
    a = 100
}
```

如果 a 存在，那么就取 a 的值，如果 a 不存在，那就把 100 赋值给 a。

## 循环语句

### while 循环

While 语句首先判断表达式的真假，真则执行语句 1.假就跳出循环继续执行下面的语句。

```
while (表达式) {
    语句1；
}
```

do-while 先执行一次语句，在进行判断。

- 注意：由于浮点数的不精确，可能会导致循环无法按照想法执行。

```
a = 0.1;
while (a !== 1){
    console.log(a)
    a = a + 1
}
<0.2
<0.3
...
<0.7
<0.799999999999
<0.899999999999
<0.999999999999 //接近于1，但是不等于1。
```

### for 循环

for (初始化表达式; 条件; 递增表达式) {循环语句} ，for 内的表达式可以全部省略。
示例：

```
var x = 3;
for (var i = 0; i < x; i++) {
  console.log(i);
}
< 0
< 1
< 2
```

一个变态题目：

```
for(var i=0;i<5;i++){
    setTimeout()=>{
        console.log(i),0
    }
}
<5
<5
<5
<5
<5
```

由于 setTimeout 是过一段时间打印，所以待打印时调取的 i 的值已经为 5 了。要想按照原有的形式进行打印只需要把 var 改成 let。

### break 和从 continue

break 退出离他最近的循环部分。循环内剩余语句不在执行。
continue 退出本次循环，执行下一次循环。

### label

就是给一个代码块起个名字。

```
foo:{
console.log(1);
break foo;
}
console.log(2);
<1
<2
```

同样的

```
{
    foo:1；
}
也是一个label标签，并非对象。若要声明对象。
```

```
var a = { foo : 1 } ;
```
